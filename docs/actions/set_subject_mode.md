---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "foxcon_set_subject_mode Action - foxcon"
subcategory: ""
description: |-
  Provides a Subject Mode action that sets Subject Mode on a Schema Registry cluster on Confluent Cloud.
---

# foxcon_set_subject_mode (Action)

Provides a Subject Mode action that sets Subject Mode on a Schema Registry cluster on Confluent Cloud.

## Example Usage

```terraform
variable "subject_name" {
  default = "test"
}

locals {
  json_schema = <<-EOT
{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/myURI.schema.json",
  "title": "SampleRecord",
  "description": "Sample schema to help",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "myField1": {
      "type": "integer",
      "description": "The integer type is used for integral numbers."
    }
  }
}
EOT
}

resource "confluent_subject_mode" "ro" {
  subject_name = var.subject_name
  mode         = "READONLY"
}

resource "confluent_schema" "this" {

  depends_on = [confluent_subject_mode.ro]

  subject_name = var.subject_name

  format = "JSON"
  schema = jsonencode(local.json_schema)

  lifecycle {
    action_trigger {
      events  = [after_create, after_update]
      actions = [action.foxcon_set_subject_mode.ro]
    }
    action_trigger {
      events  = [before_create, before_update]
      actions = [action.foxcon_set_subject_mode.rw]
    }
  }

}

action "foxcon_set_subject_mode" "ro" {
  config {
    subject_name = var.subject_name
    mode         = "READONLY"
  }
}

action "foxcon_set_subject_mode" "rw" {
  config {
    subject_name = var.subject_name
    mode         = "READWRITE"
  }
}
```

<!-- action schema generated by tfplugindocs -->
## Schema

### Required

- `mode` (String) The mode of the specified subject. Accepted values are: `READWRITE`, `READONLY`, `READONLY_OVERRIDE` and `IMPORT`.
- `subject_name` (String) The name of the subject.

### Optional

- `credentials` (Block, Optional) (see [below for nested schema](#nestedblock--credentials))
- `rest_endpoint` (String) The REST endpoint of the Schema Registry cluster.

<a id="nestedblock--credentials"></a>
### Nested Schema for `credentials`

Optional:

- `key` (String) The Schema Registry API Key.
- `secret` (String) The Schema Registry API Secret. Terraform actions do NOT support sensitive attributes. Please keep that in mind.
